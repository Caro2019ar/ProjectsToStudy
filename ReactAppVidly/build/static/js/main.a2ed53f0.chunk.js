(this.webpackJsonpreactapp2=this.webpackJsonpreactapp2||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n(10),i=n.n(a),l=(n(16),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))}),o=(n(17),n(2)),s=n(3),d=n(5),b=n(4),u=(n(18),n(7)),h=n(9),j=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}];var f=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z",liked:!0},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5}];var m=n(6),p=n.n(m),g=function(e){var t=e.itemsCount,n=e.pageSize,r=e.onPageChange,a=e.currentPage,i=Math.ceil(t/n);if(1===i)return null;var l=p.a.range(1,i+1);return console.log(a),Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:"pagination pagination-sm",children:l.map((function(e){return Object(c.jsx)("li",{className:e===a?"page-item active":"page-item",children:Object(c.jsx)("a",{className:"page-link",onClick:function(){return r(e)},children:e})},e)}))})})};var O=function(e){var t=e.items,n=e.textProperty,r=e.valueProperty,a=e.selectedItem,i=e.onItemSelect;return Object(c.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(c.jsx)("li",{onClick:function(){return i(e)},className:e===a?"list-group-item active":"list-group-item",children:e[n]},e[r])}))})};O.defaultProps={valueProperty:"_id",textProperty:"name"};var v=O,x=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=Object(c.jsx)("svg",{onClick:this.props.onClick,width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-heart-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})});return this.props.liked||(e=Object(c.jsx)("svg",{onClick:this.props.onClick,width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-heart",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{fillRule:"evenodd",d:"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})})),e}}]),n}(r.Component),k=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).raiseSort=function(t){var n=Object(u.a)({},e.props.sortColumn);n.path===t?n.order="asc"===n.order?"desc":"asc":(n.path=t,n.order="asc"),e.props.onSort(n)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.movies,r=t.onDelete,a=t.onLike;return Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{onClick:function(){return e.raiseSort("title")},children:"Title"}),Object(c.jsx)("th",{onClick:function(){return e.raiseSort("genre.name")},children:"Genre"}),Object(c.jsx)("th",{onClick:function(){return e.raiseSort("numberInStock")},children:"Stock"}),Object(c.jsx)("th",{onClick:function(){return e.raiseSort("dailyRentalRate")},children:"Rate"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.title}),Object(c.jsx)("td",{children:e.genre.name}),Object(c.jsx)("td",{children:e.numberInStock}),Object(c.jsx)("td",{children:e.dailyRentalRate}),Object(c.jsx)("td",{children:Object(c.jsx)(x,{liked:e.liked,onClick:function(){return a(e)}})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){return r(e)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e._id)}))})]})}}]),n}(r.Component),C=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],genres:[],pageSize:4,currentPage:1,sortColumn:{path:"title",order:"asc"}},e.handleSort=function(t){e.setState({sortColumn:t})},e.handleGenreSelect=function(t){e.setState({selectedGenre:t,currentPage:1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleLike=function(t){var n=Object(h.a)(e.state.movies),c=n.indexOf(t);n[c]=Object(u.a)({},n[c]),n[c].liked=!n[c].liked,e.setState({movies:n})},e.handleDelete=function(t){var n=e.state.movies.filter((function(e){return e._id!==t._id}));e.setState({movies:n})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=[{_id:"",name:"All Genres"}].concat(Object(h.a)(j.filter((function(e){return e}))));this.setState({movies:f,genres:e})}},{key:"render",value:function(){var e=this.state.movies.length,t=this.state,n=t.pageSize,r=t.currentPage,a=t.sortColumn,i=t.selectedGenre,l=t.movies;if(0===e)return Object(c.jsx)("p",{children:"There are no movies"});var o=i&&i._id?l.filter((function(e){return e.genre._id===i._id})):l,s=function(e,t,n){var c=(t-1)*n;return p()(e).slice(c).take(n).value()}(p.a.orderBy(o,[a.path],[a.order]),r,n);return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(v,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenreSelect})}),Object(c.jsxs)("div",{className:"col",children:[Object(c.jsxs)("p",{children:["Showing ",o.length," movies"]}),Object(c.jsx)(k,{movies:s,onLike:this.handleLike,sortColumn:a,onDelete:this.handleDelete,onSort:this.handleSort}),Object(c.jsx)(g,{itemsCount:o.length,pageSize:n,currentPage:r,onPageChange:this.handlePageChange,onItemSelect:this.handleGenreSelect})]})]})}}]),n}(r.Component),S=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(c.jsx)("main",{className:"container",children:Object(c.jsx)(C,{})})}}]),n}(r.Component);i.a.render(Object(c.jsx)(S,{}),document.getElementById("root")),l()}},[[21,1,2]]]);
//# sourceMappingURL=main.a2ed53f0.chunk.js.map